# Chapter 1. 객체, 설계

## 모든 소프트웨어 모듈은:

1. 실행 중 제대로 동작해야 한다.
2. 간단한 작업만으로도 변경이 용이해야 한다.
3. 쉽게 읽고 이해할 수 있어야 한다.

## 절차적 프로그래밍 (Procedural Programming)

> - 데이터와 프로세스가 별도의 모듈에 위치하는 방식의 프로그래밍
> - 각 모듈로부터 데이터를 가져온 뒤, 하나의 모듈의 로직 안에서 모든 처리를 수행

### 절차적 프로그래밍의 문제점

#### 1. 직관적으로 읽고 이해하기 어렵다.

- 동작의 형태가 인간의 직관적인 예상을 벗어나는 형태를 갖는 경우가 대부
- 하나의 로직에서 모든 처리를 수행하기 위해 하나의 클래스나 메서드에서 너무 많은 세부사항을 다루게 됨.

#### 2. 변경에 취약하다. 

- 동작이 객체나 데이터의 지나치게 세부적인 사실에까지도 의존해서 동작.
- 만약 관련된 객체의 그러한 세부적인 사실이 조금이라도 변경되면, 해당 객체뿐만 아니라
  그 객체를 참조하고 있는 로직이나 다른 객체들까지 같이 변경되어야 함.
- 이를 객체 간의 의존성이 지나치게 높고, 결합도(coupling)가 높다고 표현.

## 객체지향 프로그래밍 (Object-Oriented Programming)

> 데이터와 프로세스가 동일한 모듈 내부에 위치하도록 프로그래밍하는 방식.

### 객체의 자율성

- 캡슐화(encapsulation)를 통해 물리적으로 객체 내부의 세부적인 사항을 감춤.
  - [객체 A]에만 포함되어 있는 [객체 B]가 있다고 할 때,
    [객체 A]가 [객체 B]를 외부에 노출시키지 않고 [객체 A] 안에서만 [객체 B]와 관련된 동작을 처리한다고 하면
    [객체 A]를 참조하는 다른 객체는 [객체 B]에 대해서는 알지 못함.
- 객체 간에는 오직 메시지와 인터페이스를 통해서만 상호작용
  - 만약 다른 객체가 [객체 B]와 상호작용해야 하는 경우,
      [객체 A]의 인터페이스를 통해 상호작용해야 함.
    - 이것은 결합도가 높은 상황
  - 만약 다른 객체가 [객체 B]에 직접 접근할 수 있다고 한다면, 객체 B를 수정할 경우
    [객체 A]뿐만 아니라 접근하는 다른 객체의 명세도 수정되어야 할 것임.
    - 이것은 결합도가 낮은 상황
- 객체가 자신이 보유하고 있거나 연관관계가 있는 객체와 밀접하게 연관된 작업만을 수행하고,
  연관성이 없는 작업은 다른 객체에게 위임하는 경우를 가리켜 응집도(cohesion)가 높다고 표현.

### 훌륭한 객체지향 설계를 하려면?

1. 적절한 객체에게 적절한 책임을 할당한다.
2. 객체 간의 불필요한 의존성을 제거한다.
3. 메시지를 통해 협력하는 자율적인 객체들의 공동체를 구성한다.

- cf. 실세계에서는 생명이 없는 수동적인 존재라고 할지라도,
  객체지향의 세계에서는 마치 생명을 가진 능동적인 존재처럼 객체의 역할을 수행하도록 설계한다.

## 결합도

> 객체 사이의 의존성을 나타내는 정도
- 결합도가 높다: 객체 간의 의존성이 과하게 수립되어 있다.
- 결합도가 낮다: 객체들이 적정 수준에서 의존성을 갖는다.

## 응집도

> 객체가 다른 객체와 상호작용하거나 작업을 위임하는 정도
- 객체의 응집도가 높다: 객체가 대부분의 작업을 자기자신의 데이터를 이용해 다루고 처리한다.
- 객체의 응집도가 낮다: 객체가 자신이 소유하지 않은 데이터를 이용해 많은 작업을 처리한다.

## 설계

> 코드를 작성하는 매 순간, 코드를 어떻게 배치할 지 결정하는 것.

### 좋은 설계란?

- 요구하는 기능을 온전히 수행하면서,
- 그 다음의 변경을 매끄럽게 수용할 수 있는 설계.

### 변경을 수용할 수 있는 설계가 중요한 이유는?

- 요구사항이 항상 변경되기 때문.
  - 개발을 시작하는 시점에 모든 요구사항을 수집할 수 없고, 개발이 진행되는 동안 요구사항은 계속해서 바뀜.
- 코드를 변경할 때, 버그가 추가될 가능성이 높기 때문.
  - 버그의 가장 큰 문제점은, 코드를 수정하려는 의지를 꺾는다는 것.

### 훌륭한 객체지향 설계란?

- 협력하는 객체 사이의 의존성을 적절하게 관리하는 설계.
